{"ast":null,"code":"import _slicedToArray from\"C:/Users/shayr_slxnwzf/OneDrive/Documents/InternshipFrontend/new/node-react-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import{useState}from\"react\";import{Country}from\"country-state-city\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),currentCountry=_useState2[0],setCountry=_useState2[1];var _useState3=useState(\"Welcome!\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),capital=_useState6[0],setCapital=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),population=_useState8[0],setPopulation=_useState8[1];var countryOptions=Country.getAllCountries().map(function(country){return{label:country.name,value:country.name};});function changeCountry(selectedOption){setCountry(selectedOption);console.log(selectedOption.label);var req=new XMLHttpRequest();req.open('GET','/search/'+selectedOption.label,true);req.onreadystatechange=function(){if(req.readyState===4){var jsonArray=JSON.parse(req.responseText);var jsonData=jsonArray[0];setName(jsonData.name.common);setCapital(\"Capital: \"+jsonData.capital);setPopulation(\"Population: \"+jsonData.population);}};req.send();}return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"App-input-block\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"input-header\",children:name}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsxs(\"select\",{value:currentCountry,onChange:function onChange(event){return changeCountry(event.target.selectedOptions[0]);},children:[/*#__PURE__*/_jsx(\"option\",{value:null,children:\"Select a country\"}),countryOptions.map(function(option){return/*#__PURE__*/_jsx(\"option\",{value:option,children:option.label},option.value);})]}),capital!==null?/*#__PURE__*/_jsx(\"p\",{className:\"jsonData\",children:capital}):null,population!==null?/*#__PURE__*/_jsx(\"p\",{className:\"jsonData\",children:population}):null]})]})});}export default App;","map":{"version":3,"names":["useState","Country","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","currentCountry","setCountry","_useState3","_useState4","name","setName","_useState5","_useState6","capital","setCapital","_useState7","_useState8","population","setPopulation","countryOptions","getAllCountries","map","country","label","value","changeCountry","selectedOption","console","log","req","XMLHttpRequest","open","onreadystatechange","readyState","jsonArray","JSON","parse","responseText","jsonData","common","send","className","children","onChange","event","target","selectedOptions","option"],"sources":["C:/Users/shayr_slxnwzf/OneDrive/Documents/InternshipFrontend/new/node-react-app/client/src/App.js"],"sourcesContent":["import './App.css';\nimport { useState } from \"react\";\nimport { Country } from \"country-state-city\";\n\nfunction App() {\n  const [currentCountry, setCountry] = useState(null);\n  const [name, setName] = useState(\"Welcome!\");\n  const [capital, setCapital] = useState(null);\n  const [population, setPopulation] = useState(null);\n\n  const countryOptions = Country.getAllCountries().map(country => ({\n    label: country.name,\n    value: country.name\n  }));\n\n  function changeCountry(selectedOption) {\n    setCountry(selectedOption);\n    console.log(selectedOption.label);\n    var req = new XMLHttpRequest();\n    req.open('GET', '/search/' + selectedOption.label, true);\n    req.onreadystatechange = function(){\n      if (req.readyState === 4) {\n        var jsonArray = JSON.parse(req.responseText);\n        var jsonData = jsonArray[0];\n        setName(jsonData.name.common);\n        setCapital(\"Capital: \"+jsonData.capital);\n        setPopulation(\"Population: \"+jsonData.population);\n      }\n    };\n    req.send();\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"App-input-block\">\n        <h1 className=\"input-header\">{name}</h1>\n        <div className=\"input\">\n          <select\n            value={currentCountry}\n            onChange={(event) => changeCountry(event.target.selectedOptions[0])}\n          >\n            <option value={null}>Select a country</option>\n            {countryOptions.map(option => (\n              <option key={option.value} value={option}>{option.label}</option>\n            ))}\n          </select>\n          {capital!==null?<p className='jsonData'>{capital}</p>:null}\n          {population!==null?<p className='jsonData'>{population}</p>:null}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}